<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <style>
        /* 0-1029 */
        /* body{background-image: url('https://picsum.photos/id/237/1280/720');} */
        /* .parallax{
            background: url('https://picsum.photos/id/237/1280/720')
            center center no-repeat;
            min-height: 600px;
            background-attachment: fixed;
            background-size: cover;
        } */
    </style>
</head>
<!--
    老師提供的方法:
    把main用position:relative;top:-100% 的方式
    閃掉parallax-mirror造成的擠壓
-->
<body>
    <noscript><h1>Use Javascript</h1></noscript>
    <header id="header"></header>
    <img src="https://picsum.photos/id/237/640/480" class="thumbnail">
    <main id="main"style="background: transparent;">
        <div class="btn">btn</div>
    </main>
    <footer id="footer"></footer>

    <script src="./js/jquery_3.7.0_jquery.min.js"></script>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script src="./js/simpleParallax.min.js"></script>
    <script>
        // https://blog.tarswork.com/post/how-to-create-a-parallax-scrolling-effect/
        function init_display(){
            function init_background(){
                let bg=$('.parallax-background')
                new simpleParallax(bg.get(0))
                // if(screen.width/4*3>screen.height){
                //     bg.attr('data-image-src','https://picsum.photos/id/237/'+screen.width+'/'+screen.width/4*3)
                //     console.log('width',bg.data('imageSrc'));
                //     // bg.innerWidth(screen.width)
                //     bg.css('width',screen.width)
                // }else{
                //     console.log('height');
                //     bg.attr('data-image-src','https://picsum.photos/id/237/'+screen.height/3*4+'/'+screen.height)
                //     // bg.innerHeight(screen.height)
                //     bg.css('height',screen.height)
                // }
                
            }
            $(window).scroll(function(){
                // const scrollPositionY=window.pageYOffset
                // const background=$('.parallax')
                // background.css({transform:'translateY('+scrollPositionY+'px)'})
            })
            // console.log(screen.height);
            init_background()
        }
        function page_initialization() {
            $('#header').load('./parts/header.html')
            $('#footer').load('./parts/footer.html')
            //debug
            $('#main').load('./features/flow.html')
            // $.get('./features/flow.html',function(d){
            //     $('#main').html(d)
            // })
        }
        function jq_start_function() {
            page_initialization()
            init_display()
        }
        $(document).ready(jq_start_function)
    </script>
</body>

</html>